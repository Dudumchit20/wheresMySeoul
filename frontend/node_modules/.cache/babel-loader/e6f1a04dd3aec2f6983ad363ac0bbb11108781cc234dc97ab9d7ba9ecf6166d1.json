{"ast":null,"code":"var _jsxFileName = \"/Users/p_kxn_g/Documents/GitHub/wheresMySeoul/frontend/awes/src/hotPlace/HotPlace.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './HotPlace.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SEOUL_OPEN_DATA_AUTH_KEY = \"515653596b79756a38384a77506645\"; // 서울 열린 데이터\n\n// 1부터 115까지 \"POI001\", \"POI002\", ..., \"POI115\" 형식의 리스트 생성\nconst AREA_CODES = Array.from({\n  length: 115\n}, (_, index) => {\n  const number = (index + 1).toString().padStart(3, '0'); // 3자리 숫자로 포맷\n  return `POI${number}`;\n});\nfunction HotPlaces() {\n  _s();\n  const [hotPlaces, setHotPlaces] = useState([]);\n  const fetchHotPlaces = async () => {\n    const results_person = [];\n    const results_place = [];\n\n    // 각 장소에 대해 비동기적으로 혼잡도 데이터를 가져옵니다.\n    const fetchPromises = AREA_CODES.map(async code => {\n      try {\n        const response = await fetch(`http://openapi.seoul.go.kr:8088/${SEOUL_OPEN_DATA_AUTH_KEY}/json/citydata_ppltn/1/5/${code}`);\n        const data = await response.json();\n        const personData = data['SeoulRtd.citydata_ppltn']['0'];\n        if (place_person) {\n          // 인구 최소 및 최대값을 숫자로 변환하여 평균을 계산\n          const minPopulation = parseInt(personData.AREA_PPLTN_MIN, 10);\n          const maxPopulation = parseInt(personData.AREA_PPLTN_MAX, 10);\n          const avgPopulation = (minPopulation + maxPopulation) / 2;\n          results_place.push(personData.AREA_NM);\n          results_person.push(avgPopulation);\n        }\n        console.log(personData);\n      } catch (error) {\n        console.error(`Error fetching data for ${code}:`, error);\n      }\n    });\n\n    // 모든 요청이 완료될 때까지 기다립니다.\n    await Promise.all(fetchPromises);\n\n    // 혼잡도 기준으로 정렬하여 상위 5개의 핫플레이스만 추출합니다.\n    const topHotPlaces = results.sort((a, b) => b.LIVE_PPLTN_STTS - a.LIVE_PPLTN_STTS).slice(0, 5);\n    setHotPlaces(topHotPlaces);\n  };\n  useEffect(() => {\n    fetchHotPlaces();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hot-places-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uAC00\\uC7A5 \\uD63C\\uC7A1\\uD55C \\uC11C\\uC6B8\\uC758 \\uD56B\\uD50C\\uB808\\uC774\\uC2A4 5\\uACF3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"hot-places-list\",\n      children: hotPlaces.map(place => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"hot-place-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: place.AREA_NM\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uC2E4\\uC2DC\\uAC04 \\uC778\\uAD6C \\uD604\\uD669: \", place.LIVE_PPLTN_STTS]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uC7A5\\uC18C \\uD63C\\uC7A1\\uB3C4: \", place.AREA_CONGEST_MSG]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uCD5C\\uC18C \\uC778\\uAD6C: \", place.AREA_PPLTN_MIN, \", \\uCD5C\\uB300 \\uC778\\uAD6C: \", place.AREA_PPLTN_MAX]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, place.AREA_CD, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(HotPlaces, \"aTrkL4F8GwbR9Iccveitu5IGL9g=\");\n_c = HotPlaces;\nexport default HotPlaces;\nvar _c;\n$RefreshReg$(_c, \"HotPlaces\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","SEOUL_OPEN_DATA_AUTH_KEY","AREA_CODES","Array","from","length","_","index","number","toString","padStart","HotPlaces","_s","hotPlaces","setHotPlaces","fetchHotPlaces","results_person","results_place","fetchPromises","map","code","response","fetch","data","json","personData","place_person","minPopulation","parseInt","AREA_PPLTN_MIN","maxPopulation","AREA_PPLTN_MAX","avgPopulation","push","AREA_NM","console","log","error","Promise","all","topHotPlaces","results","sort","a","b","LIVE_PPLTN_STTS","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","place","AREA_CONGEST_MSG","AREA_CD","_c","$RefreshReg$"],"sources":["/Users/p_kxn_g/Documents/GitHub/wheresMySeoul/frontend/awes/src/hotPlace/HotPlace.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './HotPlace.css';\n\nconst SEOUL_OPEN_DATA_AUTH_KEY = \"515653596b79756a38384a77506645\" // 서울 열린 데이터\n\n// 1부터 115까지 \"POI001\", \"POI002\", ..., \"POI115\" 형식의 리스트 생성\nconst AREA_CODES = Array.from({ length: 115 }, (_, index) => {\n    const number = (index + 1).toString().padStart(3, '0'); // 3자리 숫자로 포맷\n    return `POI${number}`;\n  });\nfunction HotPlaces() {\n  const [hotPlaces, setHotPlaces] = useState([]);\n  \n  const fetchHotPlaces = async () => {\n    const results_person = [];\n    const results_place = [];\n\n    // 각 장소에 대해 비동기적으로 혼잡도 데이터를 가져옵니다.\n    const fetchPromises = AREA_CODES.map(async (code) => {\n      try {\n        const response = await fetch(`http://openapi.seoul.go.kr:8088/${SEOUL_OPEN_DATA_AUTH_KEY}/json/citydata_ppltn/1/5/${code}`);\n        const data = await response.json();\n        const personData = data['SeoulRtd.citydata_ppltn']['0'];\n\n        if (place_person) {\n            // 인구 최소 및 최대값을 숫자로 변환하여 평균을 계산\n            const minPopulation = parseInt(personData.AREA_PPLTN_MIN, 10);\n            const maxPopulation = parseInt(personData.AREA_PPLTN_MAX, 10);\n            const avgPopulation = (minPopulation + maxPopulation) / 2;\n            results_place.push(personData.AREA_NM);\n            results_person.push(avgPopulation);\n\n        }\n        console.log(personData);\n      } catch (error) {\n        console.error(`Error fetching data for ${code}:`, error);\n      }\n    });\n\n    // 모든 요청이 완료될 때까지 기다립니다.\n    await Promise.all(fetchPromises);\n\n    // 혼잡도 기준으로 정렬하여 상위 5개의 핫플레이스만 추출합니다.\n    const topHotPlaces = results\n      .sort((a, b) => b.LIVE_PPLTN_STTS - a.LIVE_PPLTN_STTS)\n      .slice(0, 5);\n\n    setHotPlaces(topHotPlaces);\n  };\n\n  useEffect(() => {\n    fetchHotPlaces();\n  }, []);\n\n  return (\n    <div className=\"hot-places-container\">\n      <h2>가장 혼잡한 서울의 핫플레이스 5곳</h2>\n      <ul className=\"hot-places-list\">\n        {hotPlaces.map((place) => (\n          <li key={place.AREA_CD} className=\"hot-place-item\">\n            <h3>{place.AREA_NM}</h3>\n            <p>실시간 인구 현황: {place.LIVE_PPLTN_STTS}</p>\n            <p>장소 혼잡도: {place.AREA_CONGEST_MSG}</p>\n            <p>최소 인구: {place.AREA_PPLTN_MIN}, 최대 인구: {place.AREA_PPLTN_MAX}</p>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default HotPlaces;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,MAAMC,wBAAwB,GAAG,gCAAgC,EAAC;;AAElE;AACA,MAAMC,UAAU,GAAGC,KAAK,CAACC,IAAI,CAAC;EAAEC,MAAM,EAAE;AAAI,CAAC,EAAE,CAACC,CAAC,EAAEC,KAAK,KAAK;EACzD,MAAMC,MAAM,GAAG,CAACD,KAAK,GAAG,CAAC,EAAEE,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;EACxD,OAAQ,MAAKF,MAAO,EAAC;AACvB,CAAC,CAAC;AACJ,SAASG,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAE9C,MAAMkB,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,MAAMC,cAAc,GAAG,EAAE;IACzB,MAAMC,aAAa,GAAG,EAAE;;IAExB;IACA,MAAMC,aAAa,GAAGhB,UAAU,CAACiB,GAAG,CAAC,MAAOC,IAAI,IAAK;MACnD,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,mCAAkCrB,wBAAyB,4BAA2BmB,IAAK,EAAC,CAAC;QAC3H,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAClC,MAAMC,UAAU,GAAGF,IAAI,CAAC,yBAAyB,CAAC,CAAC,GAAG,CAAC;QAEvD,IAAIG,YAAY,EAAE;UACd;UACA,MAAMC,aAAa,GAAGC,QAAQ,CAACH,UAAU,CAACI,cAAc,EAAE,EAAE,CAAC;UAC7D,MAAMC,aAAa,GAAGF,QAAQ,CAACH,UAAU,CAACM,cAAc,EAAE,EAAE,CAAC;UAC7D,MAAMC,aAAa,GAAG,CAACL,aAAa,GAAGG,aAAa,IAAI,CAAC;UACzDb,aAAa,CAACgB,IAAI,CAACR,UAAU,CAACS,OAAO,CAAC;UACtClB,cAAc,CAACiB,IAAI,CAACD,aAAa,CAAC;QAEtC;QACAG,OAAO,CAACC,GAAG,CAACX,UAAU,CAAC;MACzB,CAAC,CAAC,OAAOY,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAE,2BAA0BjB,IAAK,GAAE,EAAEiB,KAAK,CAAC;MAC1D;IACF,CAAC,CAAC;;IAEF;IACA,MAAMC,OAAO,CAACC,GAAG,CAACrB,aAAa,CAAC;;IAEhC;IACA,MAAMsB,YAAY,GAAGC,OAAO,CACzBC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,eAAe,GAAGF,CAAC,CAACE,eAAe,CAAC,CACrDC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAEdhC,YAAY,CAAC0B,YAAY,CAAC;EAC5B,CAAC;EAED1C,SAAS,CAAC,MAAM;IACdiB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEf,OAAA;IAAK+C,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBACnChD,OAAA;MAAAgD,QAAA,EAAI;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5BpD,OAAA;MAAI+C,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAC5BnC,SAAS,CAACM,GAAG,CAAEkC,KAAK,iBACnBrD,OAAA;QAAwB+C,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAChDhD,OAAA;UAAAgD,QAAA,EAAKK,KAAK,CAACnB;QAAO;UAAAe,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACxBpD,OAAA;UAAAgD,QAAA,GAAG,gDAAW,EAACK,KAAK,CAACR,eAAe;QAAA;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzCpD,OAAA;UAAAgD,QAAA,GAAG,mCAAQ,EAACK,KAAK,CAACC,gBAAgB;QAAA;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvCpD,OAAA;UAAAgD,QAAA,GAAG,6BAAO,EAACK,KAAK,CAACxB,cAAc,EAAC,+BAAS,EAACwB,KAAK,CAACtB,cAAc;QAAA;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA,GAJ5DC,KAAK,CAACE,OAAO;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKlB,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEV;AAACxC,EAAA,CA3DQD,SAAS;AAAA6C,EAAA,GAAT7C,SAAS;AA6DlB,eAAeA,SAAS;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}